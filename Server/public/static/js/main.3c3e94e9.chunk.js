(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{2037:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n(31),r=n.n(i),s=n(81),c=n(120),o=n(43),l=n(389),u=n(146),d=n(390),j=n(391),m=n(392),p=(n(410),n(411),n(68)),b=n.n(p),f=n(91),h=n(2072),O=n(2083),g=n(2082),x=n(2076),v=n(380),w=n(387),y=n.n(w),N=n(9),S=Object(h.a)((function(e){return{textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:100},button:{color:"black",margin:e.spacing(1),width:"110px","&:hover":{backgroundColor:"#4e6ae6",color:"white"}},costumeStyle:{width:"650px",display:"flex",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)}}}));function C(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),i=n[0],r=n[1],s=Object(a.useState)({user:e.user(),start:new Date,title:""}),c=Object(o.a)(s,2),l=c[0],u=c[1],d=Object(a.useState)({user:e.user(),start:new Date,title:""}),j=Object(o.a)(d,2),m=j[0],p=j[1],h=S();function w(){r(!i),p((function(t){return{user:e.user(),start:t.start,title:t.title}}))}return Object(a.useEffect)((function(){var e={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(l)};function t(){return(t=Object(f.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/addEvent",e).then((function(e){return e.json()}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[l]),Object(N.jsxs)("div",{children:[!i&&Object(N.jsx)(O.a,{onClick:w,variant:"outlined",color:"primary",className:h.button,children:"Add Event"}),i&&Object(N.jsx)(x.a,{component:"main",maxWidth:"xs",children:Object(N.jsx)("form",{className:h.form,children:Object(N.jsxs)("div",{id:"container",className:h.costumeStyle,children:[Object(N.jsx)(O.a,{type:"submit",variant:"outlined",color:"primary",className:h.button,onClick:function(){""!==m.title&&(e.handleAddEvent(m),w(),u(m))},children:"OK"}),Object(N.jsx)(g.a,{id:"outlined-multiline-static",variant:"outlined",label:"Add Title",required:!0,fullWidth:!0,multiline:!0,style:{paddingLeft:"10px"},onChange:function(e){p((function(t){return{user:t.user,start:t.start,title:e.target.value}}))}}),Object(N.jsx)(v.DateTimePicker,{id:"datetimepicker-1",value:m.start,onChange:function(e){p((function(t){return{user:t.user,start:new Date(e),title:t.title}}))},formatStyle:"large",hour24:!0,style:{paddingLeft:"10px"}}),Object(N.jsx)(y.a,{fontSize:"large",color:"primary",onClick:w,style:{paddingLeft:"10px"}})]})})})]})}function k(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),i=n[0],r=n[1];return Object(a.useEffect)((function(){if(console.log(e.events[0]),void 0!==e.events[0])for(var t=function(t){var n={start:e.events[0][t].start.replace("T"," ").substring(0,19),end:e.events[0][t].end.replace("T"," ").substring(0,19),title:e.events[0][t].title};r((function(e){return[].concat(Object(c.a)(e),[n])}))},n=0;n<e.events[0].length;n++)t(n)}),[e.events]),Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{id:"container",style:{width:"200px",margin:"0 auto",padding:"10px"},children:Object(N.jsx)(C,{handleAddEvent:function(e){r((function(t){return[].concat(Object(c.a)(t),[e])}))},user:e.user})}),Object(N.jsx)("div",{id:"container",style:{width:"1100px",margin:"auto"},children:Object(N.jsx)(l.a,{bootstrapFontAwesome:"true",nowIndicator:"true",handleWindowResize:"true",themeSystem:"bootstrap",plugins:[u.b,d.a,j.a,m.a],initialView:"dayGridMonth",navLinks:"true",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},events:i})})]})}var T=n(2077),E=n(2078),L=n(2079),W=n(33),A=Object(h.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},button1:{"&:hover":{backgroundColor:"#fff",color:"#3c52b2"}},button2:{"&:hover":{color:"#fff"}}}}));var D=function(e){var t=A(),n=Object(a.useState)(!1),i=Object(o.a)(n,2),r=i[0],s=i[1],c=Object(a.useState)(!1),l=Object(o.a)(c,2),u=l[0],d=l[1];return Object(N.jsx)(T.a,{position:"static",children:Object(N.jsxs)(E.a,{children:[Object(N.jsx)(L.a,{variant:"h6",className:t.title,children:"Online Calendar"}),r&&Object(N.jsx)(W.Redirect,{push:!0,to:"/login"}),u&&Object(N.jsx)(W.Redirect,{push:!0,to:"/signup"}),!e.isLogged&&Object(N.jsxs)("div",{children:[Object(N.jsx)(O.a,{color:"inherit",className:t.button1,onClick:function(){s((function(e){return!e}))},children:"Login"}),Object(N.jsx)(O.a,{className:t.button2,onClick:function(){d((function(e){return!e}))},children:"SignUp"})]}),e.isLogged&&Object(N.jsx)("div",{children:Object(N.jsx)(O.a,{color:"inherit",className:t.button2,onClick:e.logout,children:"Logout"})})]})})};function R(e){return Object(N.jsxs)("div",{children:[Object(N.jsx)(D,{isLogged:e.logged,logout:e.logout}),e.logged&&Object(N.jsx)(k,{user:e.user,events:e.userEvents})]})}var q=n(2080),U=n(2084),G=n(2081),I=n(144),P=n.n(I),F=n(145),J=n.n(F),M=Object(h.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function z(e){var t=M(),n=Object(a.useState)({email:"",password:""}),i=Object(o.a)(n,2),r=i[0],s=i[1],c=Object(a.useState)({email:"",password:""}),l=Object(o.a)(c,2),u=l[0],d=l[1],j=Object(a.useState)(!1),m=Object(o.a)(j,2),p=m[0],h=m[1];function v(e){var t=e.target,n=t.value,a=t.name;s((function(e){return"email"===a?{email:n,password:e.password}:"password"===a?{email:e.email,password:n}:void 0}))}return Object(a.useEffect)((function(){var t={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(u)};function n(){return(n=Object(f.a)(b.a.mark((function n(){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/login",t).then((function(e){return e.json()})).then((function(t){t.succeded?(h((function(e){return!e})),console.log(t.events),e.changeLogging(),e.handleUser(u.email),e.handleEvents(t.events)):alert("\u05e4\u05e8\u05d8\u05d9 \u05d4\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea \u05dc\u05d0 \u05e0\u05db\u05d5\u05e0\u05d9\u05dd")}));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[u,e]),Object(N.jsxs)(x.a,{component:"main",maxWidth:"xs",children:[Object(N.jsx)(q.a,{}),Object(N.jsxs)("div",{className:t.paper,children:[Object(N.jsx)(U.a,{className:t.avatar,children:Object(N.jsx)(P.a,{})}),Object(N.jsx)(L.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(N.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(N.jsx)(g.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",value:r.email,onChange:v,autoComplete:"email",autoFocus:!0}),Object(N.jsx)(g.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:r.password,onChange:v,autoComplete:"current-password"}),Object(N.jsx)(O.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){e.preventDefault(),d(r)},children:"Sign In"}),p&&Object(N.jsx)(W.Redirect,{push:!0,to:"/"}),Object(N.jsx)(G.a,{container:!0,children:Object(N.jsx)(G.a,{item:!0,children:Object(N.jsx)(J.a,{to:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})})]})]})]})}var B=Object(h.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function V(e){var t=B(),n=Object(a.useState)({firstName:"",lastName:"",email:"",password:""}),i=Object(o.a)(n,2),r=i[0],s=i[1],c=Object(a.useState)({firstName:"",lastName:"",email:"",password:""}),l=Object(o.a)(c,2),u=l[0],d=l[1],j=Object(a.useState)(!1),m=Object(o.a)(j,2),p=m[0],h=m[1];function v(e){var t=e.target,n=t.value,a=t.name;s((function(e){return"firstName"===a?{firstName:n,lastName:e.lastName,email:e.email,password:e.password}:"lastName"===a?{firstName:e.firstName,lastName:n,email:e.email,password:e.password}:"email"===a?{firstName:e.firstName,lastName:e.lastName,email:n,password:e.password}:"password"===a?{firstName:e.firstName,lastName:e.lastName,email:e.email,password:n}:void 0}))}return Object(a.useEffect)((function(){var t={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(u)};function n(){return(n=Object(f.a)(b.a.mark((function n(){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/signup",t).then((function(e){return e.json()})).then((function(t){console.log(t),t.succeded?(alert("registration succeeded"),h((function(e){return!e})),e.changeLogging(),e.handleUser(u.email)):alert("email address already registrated in the system")}));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[u,e]),Object(N.jsxs)(x.a,{component:"main",maxWidth:"xs",children:[Object(N.jsx)(q.a,{}),Object(N.jsxs)("div",{className:t.paper,children:[Object(N.jsx)(U.a,{className:t.avatar,children:Object(N.jsx)(P.a,{})}),Object(N.jsx)(L.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(N.jsxs)("form",{className:t.form,children:[Object(N.jsxs)(G.a,{container:!0,spacing:2,children:[Object(N.jsx)(G.a,{item:!0,xs:12,sm:6,children:Object(N.jsx)(g.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:v})}),Object(N.jsx)(G.a,{item:!0,xs:12,sm:6,children:Object(N.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:v})}),Object(N.jsx)(G.a,{item:!0,xs:12,children:Object(N.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",type:"email",onChange:v})}),Object(N.jsx)(G.a,{item:!0,xs:12,children:Object(N.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:v})})]}),Object(N.jsx)("br",{}),Object(N.jsx)(O.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),d(r)},children:"Sign Up"}),p&&Object(N.jsx)(W.Redirect,{push:!0,to:"/"}),Object(N.jsx)(G.a,{container:!0,justify:"flex-end",children:Object(N.jsx)(G.a,{item:!0,children:Object(N.jsx)(J.a,{to:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]})]})}var K=n(388);function H(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(""),l=Object(o.a)(r,2),u=l[0],d=l[1],j=Object(a.useState)([]),m=Object(o.a)(j,2),p=m[0],b=m[1];function f(){i(!n)}function h(e){d(e)}function O(){i(!n),d("")}function g(){return u}function x(e){b((function(t){return[].concat(Object(c.a)(t),[e])}))}return Object(N.jsxs)(K.a,{children:[Object(N.jsx)(W.Route,{exact:!0,path:"/",render:function(e){return Object(N.jsx)(R,Object(s.a)(Object(s.a)({},e),{},{logged:n,logout:O,user:g,userEvents:p}))}}),Object(N.jsx)(W.Route,{exact:!0,path:"/login",render:function(e){return Object(N.jsx)(z,Object(s.a)(Object(s.a)({},e),{},{changeLogging:f,handleUser:h,handleEvents:x}))}}),Object(N.jsx)(W.Route,{exact:!0,path:"/signup",render:function(e){return Object(N.jsx)(V,Object(s.a)(Object(s.a)({},e),{},{changeLogging:f,handleUser:h,user:u}))}})]})}r.a.render(Object(N.jsx)(H,{}),document.getElementById("root"))},292:function(e,t){},881:function(e,t){},882:function(e,t){}},[[2037,1,2]]]);
//# sourceMappingURL=main.3c3e94e9.chunk.js.map