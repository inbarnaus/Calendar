(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{2042:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a(32),r=a.n(i),s=a(85),c=a(124),o=a(43),l=a(391),u=a(148),d=a(392),j=a(393),m=a(394),b=(a(415),a(416),a(70)),p=a.n(b),f=a(95),h=a(2077),O=a(2080),g=a(2088),x=a(2082),v=a(382),w=a(389),y=a.n(w),N=a(10),S=Object(h.a)((function(e){return{textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:100},button:{color:"black",margin:e.spacing(1),width:"110px","&:hover":{backgroundColor:"#4e6ae6",color:"white"}},costumeStyle:{width:"650px",display:"flex",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)}}}));function C(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),i=a[0],r=a[1],s=Object(n.useState)({user:e.user(),start:new Date,title:""}),c=Object(o.a)(s,2),l=c[0],u=c[1],d=Object(n.useState)({user:e.user(),start:new Date,title:""}),j=Object(o.a)(d,2),m=j[0],b=j[1],h=S();function w(){r(!i),b((function(t){return{user:e.user(),start:t.start,title:t.title}}))}return Object(n.useEffect)((function(){var e={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(l)};function t(){return(t=Object(f.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/addEvent",e).then((function(e){return e.json()}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[l]),Object(N.jsxs)("div",{children:[!i&&Object(N.jsx)(O.a,{onClick:w,variant:"outlined",color:"primary",className:h.button,children:"Add Event"}),i&&Object(N.jsx)(x.a,{component:"main",maxWidth:"xs",children:Object(N.jsx)("form",{className:h.form,children:Object(N.jsxs)("div",{id:"container",className:h.costumeStyle,children:[Object(N.jsx)(O.a,{type:"submit",variant:"outlined",color:"primary",className:h.button,onClick:function(){""!==m.title&&(e.handleAddEvent(m),w(),u(m))},children:"OK"}),Object(N.jsx)(g.a,{id:"outlined-multiline-static",variant:"outlined",label:"Add Title",required:!0,fullWidth:!0,multiline:!0,style:{paddingLeft:"10px"},onChange:function(e){b((function(t){return{user:t.user,start:t.start,title:e.target.value}}))}}),Object(N.jsx)(v.DateTimePicker,{id:"datetimepicker-1",value:m.start,onChange:function(e){b((function(t){return{user:t.user,start:new Date(e),title:t.title}}))},formatStyle:"large",hour24:!0,style:{paddingLeft:"10px"}}),Object(N.jsx)(y.a,{fontSize:"large",color:"primary",onClick:w,style:{paddingLeft:"10px"}})]})})})]})}function k(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),i=a[0],r=a[1];return Object(n.useEffect)((function(){if(console.log(e.events[0]),void 0!==e.events[0])for(var t=function(t){var a={start:e.events[0][t].start.replace("T"," ").substring(0,19),end:e.events[0][t].end.replace("T"," ").substring(0,19),title:e.events[0][t].title};r((function(e){return[].concat(Object(c.a)(e),[a])}))},a=0;a<e.events[0].length;a++)t(a)}),[e.events]),Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{id:"container",style:{width:"200px",margin:"0 auto",padding:"10px"},children:Object(N.jsx)(C,{handleAddEvent:function(e){r((function(t){return[].concat(Object(c.a)(t),[e])}))},user:e.user})}),Object(N.jsx)("div",{id:"container",style:{width:"1100px",margin:"auto"},children:Object(N.jsx)(l.a,{bootstrapFontAwesome:"true",nowIndicator:"true",handleWindowResize:"true",themeSystem:"bootstrap",plugins:[u.b,d.a,j.a,m.a],initialView:"dayGridMonth",navLinks:"true",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},events:i})})]})}var T=a(2083),E=a(2084),L=a(2045),W=a(34),A=Object(h.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},button1:{"&:hover":{backgroundColor:"#fff",color:"#3c52b2"}},button2:{"&:hover":{color:"#fff"}}}}));var R=function(e){var t=A(),a=Object(n.useState)(!1),i=Object(o.a)(a,2),r=i[0],s=i[1],c=Object(n.useState)(!1),l=Object(o.a)(c,2),u=l[0],d=l[1];return Object(N.jsx)(T.a,{position:"static",children:Object(N.jsxs)(E.a,{children:[Object(N.jsx)(L.a,{variant:"h6",className:t.title,children:"Online Calendar"}),r&&Object(N.jsx)(W.Redirect,{push:!0,to:"/login"}),u&&Object(N.jsx)(W.Redirect,{push:!0,to:"/signup"}),!e.isLogged&&Object(N.jsxs)("div",{children:[Object(N.jsx)(O.a,{color:"inherit",className:t.button1,onClick:function(){s((function(e){return!e}))},children:"Login"}),Object(N.jsx)(O.a,{className:t.button2,onClick:function(){d((function(e){return!e}))},children:"SignUp"})]}),e.isLogged&&Object(N.jsx)("div",{children:Object(N.jsx)(O.a,{color:"inherit",className:t.button2,onClick:e.logout,children:"Logout"})})]})})};function D(e){return Object(N.jsxs)("div",{children:[Object(N.jsx)(R,{isLogged:e.logged,logout:e.logout}),e.logged&&Object(N.jsx)(k,{user:e.user,events:e.userEvents})]})}var q=a(2085),U=a(2090),F=a(2086),G=a(2089),I=a(2087),P=a(147),J=a.n(P),M=a(123),z=a.n(M),B=Object(h.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function V(e){var t=B(),a=Object(n.useState)({email:"",password:""}),i=Object(o.a)(a,2),r=i[0],s=i[1],c=Object(n.useState)({email:"",password:""}),l=Object(o.a)(c,2),u=l[0],d=l[1],j=Object(n.useState)(!1),m=Object(o.a)(j,2),b=m[0],h=m[1];function v(e){var t=e.target,a=t.value,n=t.name;s((function(e){return"email"===n?{email:a,password:e.password}:"password"===n?{email:e.email,password:a}:void 0}))}return Object(n.useEffect)((function(){var t={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(u)};function a(){return(a=Object(f.a)(p.a.mark((function a(){return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/login",t).then((function(e){return e.json()})).then((function(t){t.succeded?(h((function(e){return!e})),console.log(t.events),e.changeLogging(),e.handleUser(u.email),e.handleEvents(t.events)):alert("\u05e4\u05e8\u05d8\u05d9 \u05d4\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea \u05dc\u05d0 \u05e0\u05db\u05d5\u05e0\u05d9\u05dd")}));case 2:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}),[u,e]),Object(N.jsxs)(x.a,{component:"main",maxWidth:"xs",children:[Object(N.jsx)(q.a,{}),Object(N.jsxs)("div",{className:t.paper,children:[Object(N.jsx)(U.a,{className:t.avatar,children:Object(N.jsx)(J.a,{})}),Object(N.jsx)(L.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(N.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(N.jsx)(g.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",value:r.email,onChange:v,autoComplete:"email",autoFocus:!0}),Object(N.jsx)(g.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:r.password,onChange:v,autoComplete:"current-password"}),Object(N.jsx)(F.a,{control:Object(N.jsx)(G.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(N.jsx)(O.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){e.preventDefault(),d(r)},children:"Sign In"}),b&&Object(N.jsx)(W.Redirect,{push:!0,to:"/"}),Object(N.jsxs)(I.a,{container:!0,children:[Object(N.jsx)(I.a,{item:!0,xs:!0,children:Object(N.jsx)(z.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(N.jsx)(I.a,{item:!0,children:Object(N.jsx)(z.a,{to:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]})]})}var K=Object(h.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function H(e){var t=K(),a=Object(n.useState)({firstName:"",lastName:"",email:"",password:""}),i=Object(o.a)(a,2),r=i[0],s=i[1],c=Object(n.useState)({firstName:"",lastName:"",email:"",password:""}),l=Object(o.a)(c,2),u=l[0],d=l[1],j=Object(n.useState)(!1),m=Object(o.a)(j,2),b=m[0],h=m[1];function v(e){var t=e.target,a=t.value,n=t.name;s((function(e){return"firstName"===n?{firstName:a,lastName:e.lastName,email:e.email,password:e.password}:"lastName"===n?{firstName:e.firstName,lastName:a,email:e.email,password:e.password}:"email"===n?{firstName:e.firstName,lastName:e.lastName,email:a,password:e.password}:"password"===n?{firstName:e.firstName,lastName:e.lastName,email:e.email,password:a}:void 0}))}return Object(n.useEffect)((function(){var t={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(u)};function a(){return(a=Object(f.a)(p.a.mark((function a(){return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/signup",t).then((function(e){return e.json()})).then((function(t){console.log(t),t.succeded?(alert("registration succeeded"),h((function(e){return!e})),e.changeLogging(),e.handleUser(u.email)):alert("email address already registrated in the system")}));case 2:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}),[u,e]),Object(N.jsxs)(x.a,{component:"main",maxWidth:"xs",children:[Object(N.jsx)(q.a,{}),Object(N.jsxs)("div",{className:t.paper,children:[Object(N.jsx)(U.a,{className:t.avatar,children:Object(N.jsx)(J.a,{})}),Object(N.jsx)(L.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(N.jsxs)("form",{className:t.form,children:[Object(N.jsxs)(I.a,{container:!0,spacing:2,children:[Object(N.jsx)(I.a,{item:!0,xs:12,sm:6,children:Object(N.jsx)(g.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:v})}),Object(N.jsx)(I.a,{item:!0,xs:12,sm:6,children:Object(N.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:v})}),Object(N.jsx)(I.a,{item:!0,xs:12,children:Object(N.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",type:"email",onChange:v})}),Object(N.jsx)(I.a,{item:!0,xs:12,children:Object(N.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:v})})]}),Object(N.jsx)("br",{}),Object(N.jsx)(O.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),d(r)},children:"Sign Up"}),b&&Object(N.jsx)(W.Redirect,{push:!0,to:"/"}),Object(N.jsx)(I.a,{container:!0,justify:"flex-end",children:Object(N.jsx)(I.a,{item:!0,children:Object(N.jsx)(z.a,{to:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]})]})}var Q=a(390);function X(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],i=t[1],r=Object(n.useState)(""),l=Object(o.a)(r,2),u=l[0],d=l[1],j=Object(n.useState)([]),m=Object(o.a)(j,2),b=m[0],p=m[1];function f(){i(!a)}function h(e){d(e)}function O(){i(!a),d("")}function g(){return u}function x(e){p((function(t){return[].concat(Object(c.a)(t),[e])}))}return Object(N.jsxs)(Q.a,{children:[Object(N.jsx)(W.Route,{exact:!0,path:"/",render:function(e){return Object(N.jsx)(D,Object(s.a)(Object(s.a)({},e),{},{logged:a,logout:O,user:g,userEvents:b}))}}),Object(N.jsx)(W.Route,{exact:!0,path:"/login",render:function(e){return Object(N.jsx)(V,Object(s.a)(Object(s.a)({},e),{},{changeLogging:f,handleUser:h,handleEvents:x}))}}),Object(N.jsx)(W.Route,{exact:!0,path:"/signup",render:function(e){return Object(N.jsx)(H,Object(s.a)(Object(s.a)({},e),{},{changeLogging:f,handleUser:h,user:u}))}})]})}r.a.render(Object(N.jsx)(X,{}),document.getElementById("root"))},294:function(e,t){},886:function(e,t){},887:function(e,t){}},[[2042,1,2]]]);
//# sourceMappingURL=main.76d262c1.chunk.js.map